<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <style>
    /* Remove default margins and set page size */
    @page {
      size: A4;
      margin: 0;
    }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: "Georgia", serif;
      color: #1a1a1a;
      background-color: white;
    }

    /* Layout: sidebar + main content */
    .template3 {
      display: flex;
      width: 100%;
    }

    .sidebar {
      width: 260px;
      background-color: #e74c3c;
      color: white;
      padding: 40px 25px;
      box-sizing: border-box;
      page-break-inside: avoid; /* keep sidebar intact */
    }

    .sidebar h1 {
      margin: 0 0 10px 0;
      font-size: 2em;
      line-height: 1.2;
    }

    .sidebar .contact-info {
      font-size: 0.85em;
      line-height: 1.6;
      margin-bottom: 30px;
      opacity: 0.95;
      font-family: 'Arial', sans-serif;
    }

    .sidebar h2 {
      font-size: 1.2em;
      margin-top: 25px;
      margin-bottom: 12px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 5px;
    }

    .sidebar .skill-item {
      background-color: rgba(255,255,255,0.2);
      padding: 5px 10px;
      margin: 5px 0;
      border-radius: 3px;
      font-size: 0.9em;
      font-family: 'Arial', sans-serif;
    }

    .main-content {
      flex: 1;
      padding: 40px;
      background-color: white;
      box-sizing: border-box;

      /* ðŸ‘‡ critical for multi-page rendering */
      page-break-inside: auto;
      page-break-before: auto;
      page-break-after: auto;
      overflow: visible;
    }

    .main-content h2 {
      color: #e74c3c;
      font-size: 1.6em;
      margin-top: 25px;
      margin-bottom: 15px;
      border-bottom: 2px solid #e74c3c;
      padding-bottom: 8px;
    }

    .experience-item,
    .project-item,
    .education-item,
    .achievement-item {
      margin-bottom: 20px;
      position: relative;
      padding-left: 0;
      page-break-inside: avoid; /* keep each item together */
    }

    .job-title,
    .project-name {
      font-weight: bold;
      color: #2c3e50;
      font-size: 1.15em;
    }

    .company-info {
      color: #7f8c8d;
      font-style: italic;
      margin-top: 3px;
      font-size: 0.95em;
    }

    .description {
      margin-top: 8px;
      line-height: 1.7;
      color: #444;
    }

    .summary {
      line-height: 1.7;
      color: #444;
      font-size: 1.05em;
    }

    @media print {
      body {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
      }
    }
  </style>
</head>
<body>
  <div class="template3">
    <!-- Sidebar -->
    <div class="sidebar">
      <h1>{{ resume.name }}</h1>
      <div class="contact-info">
        {{ resume.email }}<br />
        {{ resume.phone }}<br />
        {{ resume.location }}
      </div>

      {% if resume.skills %}
        <h2>Skills</h2>
        {% for skill in resume.skills %}
          <div class="skill-item">{{ skill.skill }}</div>
        {% endfor %}
      {% endif %}

      {% if resume.languages %}
        <h2>Languages</h2>
        {% for language in resume.languages %}
          <div class="skill-item">{{ language.languages }} - {{ language.proficiency }}</div>
        {% endfor %}
      {% endif %}

      {% if resume.educations %}
        <h2>Education</h2>
        {% for edu in resume.educations %}
          <div class="education-item">
            <div style="font-weight: bold;">{{ edu.degree }}</div>
            <div style="font-size: 0.9em; margin-top: 3px;">{{ edu.school }}</div>
            <div style="font-size: 0.85em; opacity: 0.9;">{{ edu.year }}</div>
          </div>
        {% endfor %}
      {% endif %}

      {% if resume.certifications %}
        <h2>Certifications</h2>
        {% for cert in resume.certifications %}
          <div class="education-item">
            <div style="font-weight: bold;">{{ cert.name }}</div>
            <div style="font-size: 0.9em; margin-top: 3px;">{{ cert.issuer }}</div>
            <div style="font-size: 0.85em; opacity: 0.9;">{{ cert.year }}</div>
          </div>
        {% endfor %}
      {% endif %}

      <div class="contact-info">
        {% if resume.linkedin_url %}{{ resume.linkedin_url }}<br>{% endif %}
        {% if resume.git_url %}{{ resume.git_url }}<br>{% endif %}
        {% if resume.portfolio_url %}{{ resume.portfolio_url }}<br>{% endif %}
      </div>

      {% if resume.keywords %}
        <h2>Other</h2>
        {% for keyword in resume.keywords %}
          <div class="skill-item">#{{ keyword }}</div>
        {% endfor %}
      {% endif %}
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <h2>Professional Summary</h2>
      <p class="summary">{{ resume.summary }}</p>

      {% if resume.experiences %}
        <h2>Work Experience</h2>
        {% for exp in resume.experiences %}
          <div class="experience-item">
            <div class="job-title">{{ exp.title }}</div>
            <div class="company-info">{{ exp.company }} | {{ exp.duration }}</div>
            <p class="description">{{ exp.description }}</p>
          </div>
        {% endfor %}
      {% endif %}

      {% if resume.projects %}
        <h2>Featured Projects</h2>
        {% for proj in resume.projects %}
          <div class="project-item">
            <div class="project-name">{{ proj.name }}</div>
            <p class="description">{{ proj.description }}</p>
          </div>
        {% endfor %}
      {% endif %}

      {% if resume.achievements %}
        <h2>Achievements</h2>
        {% for achi in resume.achievements %}
          <div class="achievement-item">
            <div class="project-name">{{ achi.title }}</div>
            <p class="description">{{ achi.description }}</p>
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>
</body>
</html>
