<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <style>
    .experience-item {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .project-item {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .education-item {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .summary {
      page-break-inside: avoid;
      break-inside: avoid;
    }
    /* First page: no top margin */
    @page:first {
      margin-top: 0;
    }

    /* Other pages: add top margin */
    @page {
      margin-top: 40px; /* change as needed */
      size: A4;          /* or 'letter', or custom size like 210mm 297mm */
      margin-left: 0;
      margin-right: 0;
    }
    html, body { margin: 0; padding: 0; }
    body {
      font-family: "Helvetica", sans-serif;
      margin: 40px;
      color: #333;
    }
    h1 {
      color: #4a148c;
      margin-bottom: 0;
      font-size: 2.5em;
    }
    h2 {
      border-bottom: 1px solid #ccc;
      padding-bottom: 4px;
      color: #555;
      margin-top: 25px;
      font-size: 1.5em;
    }
    .contact-info {
      color: #666;
      margin-top: 5px;
      font-size: 0.95em;
    }
    .section {
      margin-top: 25px;
    }
    .skill-tag {
      background-color: #ede7f6;
      color: #4a148c;
      padding: 5px 10px;
      border-radius: 12px;
      margin: 2px;
      display: inline-block;
      font-size: 0.9em;
    }
    .job-title {
      font-weight: bold;
      color: #4a148c;
      font-size: 1.1em;
    }
    .company {
      color: #666;
    }
    .project-name {
      font-weight: bold;
      color: #4a148c;
      font-size: 1.05em;
    }
    .description {
      margin-top: 5px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <h1>{{ resume.name }}</h1>
  <p class="contact-info">
    {{ resume.email }} | {{ resume.phone }} | {{ resume.location }}
  </p>
  <p class="contact-info"></p>
    {% set contacts = [] %}

    {% if resume.linkedin_url %}
        {% set _ = contacts.append(resume.linkedin_url) %}
    {% endif %}

    {% if resume.git_url %}
        {% set _ = contacts.append(resume.git_url) %}
    {% endif %}

    {% if resume.portfolio_url %}
        {% set _ = contacts.append(resume.portfolio_url) %}
    {% endif %}

    {% if contacts %}
        {{ contacts | join(' | ') }}
    {% endif %}
  </p>
  
  <div class="section">
    <h2>Summary</h2>
    <p>{{ resume.summary }}</p>
  </div>

  {% if resume.experiences and resume.experiences|length > 0 %}
    <div class="section">
      <h2>Experience</h2>
      {% for exp in resume.experiences %}
        <div style="margin-bottom: 15px;">
          <div class="job-title">{{ exp.title }}</div>
          <div class="company">{{ exp.company }} ({{ exp.duration }})</div>
          <p class="description">{{ exp.description }}</p>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  {% if resume.certifications and resume.certifications|length > 0 %}
    <div class="section">
      <h2>Education</h2>
      {% for cert in resume.certifications %}
        <p><strong>{{ cert.name }}</strong>, {{ cert.issuer }} ({{ cert.year }})</p>
      {% endfor %}
    </div>
  {% endif %}

  {% if resume.educations and resume.educations|length > 0 %}
    <div class="section">
      <h2>Education</h2>
      {% for edu in resume.educations %}
        <p><strong>{{ edu.degree }}</strong>, {{ edu.school }} ({{ edu.year }})</p>
      {% endfor %}
    </div>
  {% endif %}

  {% if resume.skills and resume.skills|length > 0 %}
    <div class="section">
      <h2>Skills</h2>
      {% for skill in resume.skills %}
        <span class="skill-tag">{{ skill.skill }}</span>
      {% endfor %}
    </div>
  {% endif %}

  {% if resume.languages and resume.languages|length > 0 %}
    <div class="section">
      <h2>Languages</h2>
      {% for language in resume.languages %}
        <span class="skill-tag">{{ language.languages }}  - {{ language.proficiency }}</span>
      {% endfor %}
    </div>
  {% endif %}

  {% if resume.projects and resume.projects|length > 0 %}
  <div class="section">
    <h2>Projects</h2>
    {% for proj in resume.projects %}
      <div style="margin-bottom: 12px;">
        <div class="project-name">{{ proj.name }}</div>
        <p class="description">{{ proj.description }}</p>
      </div>
    {% endfor %}
  </div>
  {% endif %}

  {% if resume.achievements and resume.achievements|length > 0 %}
  <div class="section">
    <h2>Achievements</h2>
    {% for achi in resume.achievements %}
      <div style="margin-bottom: 12px;">
        <div class="project-name">{{ achi.title }}</div>
        <p class="description">{{ achi.description }}</p>
      </div>
    {% endfor %}
  </div>
  {% endif %}

  {% if resume.keywords and resume.keywords|length > 0 %}
    <div class="section">
      <h2>Other</h2>
      {% for keyword in resume.keywords %}
        <span class="skill-tag">#{{ keyword }}</span>
      {% endfor %}
    </div>
  {% endif %}
</body>
</html>
