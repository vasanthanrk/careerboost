<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <style>
    .experience-item {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .project-item {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .education-item {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    .summary {
      page-break-inside: avoid;
      break-inside: avoid;
    }

    /* First page: no top margin */
    @page: first {
      margin-top: 0;
    }

    /* Other pages: add top margin */
    @page {
      margin-top: 40px;
      /* change as needed */
      size: A4;
      margin-left: 0;
      margin-right: 0;
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Segoe UI", sans-serif;
      color: #333;
      margin: 0;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .template5 {
      width: 100%;
      page-break-inside: avoid;
    }

    /* HEADER */
    .header {
      padding: 50px 45px 40px;
      background-color: white;
      border-bottom: 4px solid #16a085;
    }

    .header h1 {
      margin: 0;
      font-size: 2.6em;
      color: #2c3e50;
      font-weight: 300;
    }

    .contact-info {
      margin-top: 12px;
      font-size: 0.95em;
      color: #7f8c8d;
    }

    /* CONTENT */
    .content {
      padding: 35px 45px;
    }

    /* SUMMARY */
    .summary {
      line-height: 1.7;
      color: #555;
      margin-bottom: 30px;
      padding: 20px;
      background-color: #f8f9fa;
      border-left: 4px solid #16a085;
      page-break-inside: avoid;
    }

    /* TWO COLUMN LAYOUT – TABLE (WeasyPrint Safe) */
    .two-column {
      width: 100%;
      /* border-spacing: 40px 0; */
    }

    .col-left {
      width: 70%;
      vertical-align: top;
    }

    .col-right {
      width: 25%;
      vertical-align: top;
    }

    /* SECTION TITLES */
    h2,
    h3 {
      color: #16a085;
      font-size: 1.3em;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 25px;
      margin-bottom: 18px;
      page-break-after: avoid;
    }

    /* EXPERIENCE, PROJECTS, ACHIEVEMENTS */
    .experience-item,
    .project-item {
      margin-bottom: 22px;
      page-break-inside: avoid;
    }

    .job-title,
    .project-name {
      font-weight: 600;
      color: #2c3e50;
      font-size: 1.1em;
    }

    .company-duration {
      color: #7f8c8d;
      font-size: 0.9em;
      margin-top: 3px;
    }

    .description {
      margin-top: 8px;
      line-height: 1.7;
      color: #555;
    }

    /* SKILLS, KEYWORDS */
    .skill-tag {
      background-color: white;
      color: #16a085;
      padding: 7px 15px;
      border-radius: 4px;
      display: inline-block;
      font-size: 0.85em;
      border: 2px solid #16a085;
      font-weight: 500;
      margin: 4px;
      page-break-inside: avoid;
    }

    /* EDUCATION */
    .education-item {
      margin-bottom: 15px;
      padding: 15px;
      background-color: #f8f9fa;
      border-left: 3px solid #16a085;
      page-break-inside: avoid;
    }
  </style>
</head>

<body>
  <div class="template5">

    <!-- HEADER -->
    <div class="header">
      <h1>{{ resume.name }}</h1>

      <div class="contact-info">
        {{ resume.email }} | {{ resume.phone }} | {{ resume.location }}
      </div>

      <div class="contact-info">
        {% set contacts = [] %}
        {% if resume.linkedin_url %}{% set _ = contacts.append(resume.linkedin_url) %}{% endif %}
        {% if resume.git_url %}{% set _ = contacts.append(resume.git_url) %}{% endif %}
        {% if resume.portfolio_url %}{% set _ = contacts.append(resume.portfolio_url) %}{% endif %}
        {% if contacts %} {{ contacts | join(' | ') }} {% endif %}
      </div>
    </div>

    <div class="content">

      <!-- SUMMARY -->
      {% if resume.summary %}
      <p class="summary">{{ resume.summary }}</p>
      {% endif %}

      <!-- TWO COLUMN LAYOUT -->
      <table class="two-column">
        <tr>
          <!-- LEFT COLUMN -->
          <td class="col-left">

            {% if resume.experiences and resume.experiences|length > 0 %}
            <h2>Experience</h2>
            {% for exp in resume.experiences %}
            <div class="experience-item">
              <div class="job-title">{{ exp.title }}</div>
              <div class="company-duration">{{ exp.company }} • {{ exp.duration }}</div>
              <p class="description">{{ exp.description }}</p>
            </div>
            {% endfor %}
            {% endif %}

            {% if resume.projects and resume.projects|length > 0 %}
            <h3>Projects</h3>
            {% for proj in resume.projects %}
            <div class="project-item">
              <div class="project-name">{{ proj.name }}</div>
              <p class="description">{{ proj.description }}</p>
            </div>
            {% endfor %}
            {% endif %}

            {% if resume.achievements and resume.achievements|length > 0 %}
            <h3>Achievements</h3>
            {% for achi in resume.achievements %}
            <div class="project-item">
              <div class="project-name">{{ achi.title }}</div>
              <p class="description">{{ achi.description }}</p>
            </div>
            {% endfor %}
            {% endif %}

          </td>

          <!-- RIGHT COLUMN -->
          <td class="col-right">

            {% if resume.skills and resume.skills|length > 0 %}
            <h2>Skills</h2>
            {% for skill in resume.skills %}
            <span class="skill-tag">{{ skill.skill }}</span>
            {% endfor %}
            {% endif %}

            {% if resume.languages and resume.languages|length > 0 %}
            <h2>Languages</h2>
            {% for lang in resume.languages %}
            <span class="skill-tag">{{ lang.language }} - {{ lang.proficiency }}</span>
            {% endfor %}
            {% endif %}

            {% if resume.educations and resume.educations|length > 0 %}
            <h3>Education</h3>
            {% for edu in resume.educations %}
            <div class="education-item">
              <div style="font-weight:600; color:#2c3e50;">{{ edu.degree }}</div>
              <div style="color:#7f8c8d; margin-top:5px;">{{ edu.school }}</div>
              <div style="color:#16a085; font-size:0.85em; margin-top:3px;">{{ edu.year }}</div>
            </div>
            {% endfor %}
            {% endif %}

            {% if resume.certifications and resume.certifications|length > 0 %}
            <h3>Certifications</h3>
            {% for cert in resume.certifications %}
            <div class="education-item">
              <div style="font-weight:600; color:#2c3e50;">{{ cert.name }}</div>
              <div style="color:#7f8c8d; margin-top:5px;">{{ cert.issuer }}</div>
              <div style="color:#16a085; font-size:0.85em; margin-top:3px;">{{ cert.year }}</div>
            </div>
            {% endfor %}
            {% endif %}

            {% if resume.keywords and resume.keywords|length > 0 %}
            <h2>Other</h2>
            {% for keyword in resume.keywords %}
            <span class="skill-tag">{{ keyword }}</span>
            {% endfor %}
            {% endif %}

          </td>
        </tr>
      </table>

    </div>
  </div>
</body>

</html>